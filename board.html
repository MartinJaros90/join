<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/board.css">
    <link rel="icon" type="image/x-icon" href="./assets/img/join.png">
    <script src="./scripts/script.js"></script>
    <script src="./scripts/board.js"></script>

    <title>Join - Board</title>
</head>

<body onload="includeHTML(); loadTasks()">
    <div w3-include-html="./menu.html"></div>

    <section class="board-container">
        <div class="board-header">
            <h1>Board</h1>
            <div class="task-input-container">
                <div class="task-input">
                    <input type="text" placeholder="Find Task">
                </div>
                <button class="add-task" onclick="openDialog()">Add task <span>+</span></button>
            </div>
        </div>

        <div class="task-board">
            <div class="task-column">
                <h2>To Do <span onclick="openDialog('Neuen Task hinzufügen')">+</span></h2>
            </div>
            <div class="task-column">
                <h2>In Progress <span onclick="openDialog('Neuen Task hinzufügen')">+</span></h2>
            </div>
            <div class="task-column">
                <h2>Await Feedback <span onclick="openDialog('Neuen Task hinzufügen')">+</span></h2>
            </div>
            <div class="task-column">
                <h2>Done</h2>
            </div>
        </div>

        <!-- Task Columns to dynamically insert tasks -->
        <div class="column-container">
            <!-- "To Do" column -->
            <div id="ToDo" class="task-column" ondrop="moveTo(event, 'ToDo')" ondragover="allowDrop(event)"
                ondragenter="highlight('ToDo')" ondragleave="removeHighlight('ToDo')">
                <div class="no-tasks">No tasks To do</div>
            </div>

            <!-- "In Progress" column -->
            <div id="inProgress" class="task-column" ondrop="moveTo(event, 'inProgress')" ondragover="allowDrop(event)"
                ondragenter="highlight('inProgress')" ondragleave="removeHighlight('inProgress')">
                <!-- Tasks will be dynamically added here -->
            </div>

            <!-- "Await Feedback" column -->
            <div id="AwaitFeedback" class="task-column" ondrop="moveTo(event, 'AwaitFeedback')"
                ondragover="allowDrop(event)" ondragenter="highlight('AwaitFeedback')"
                ondragleave="removeHighlight('AwaitFeedback')">
                <!-- Tasks will be dynamically added here -->
            </div>

            <!-- "Done" column -->
            <div id="Done" class="task-column" ondrop="moveTo(event, 'Done')" ondragover="allowDrop(event)"
                ondragenter="highlight('Done')" ondragleave="removeHighlight('Done')">
                <div class="no-tasks">No tasks Done</div>
            </div>
        </div>

        <!-- Dialog for adding a task -->
        <div id="dialog" class="dialog-bg d-none" onclick="closeDialog()">
            <div id="dialog-content" class="dialog">

            </div>
        </div>

        <!-- <div class="column-container">
            <div id="ToDo" class="task-column" ondrop="moveTo(event, 'ToDo')" ondragover="allowDrop(event)"
                ondragenter="highlight('ToDo')" ondragleave="removeHighlight('ToDo')">
                <div class="no-tasks">No tasks To do</div>
            </div>
            <div id="inProgress" ondrop="moveTo(event, 'inProgress')" ondragover="allowDrop(event)"
                ondragenter="highlight('inProgress')" ondragleave="removeHighlight('inProgress')">

                <div id="task1" class="todo-card" draggable="true" ondragstart="startDragging(event)">
                    <div class="card-labels">
                        <span class="label">User Story</span>
                    </div>

                    <div class="card-content">
                        <h3 class="card-title">Kochwelt Page & Recipe Recommender</h3>
                        <p class="card-description">Build start page with recipe recommendation...</p>
                    </div>

                    <div class="card-progress">
                        <div class="progress-bar">
                            <div class="progress" style="width: 50%;"></div>
                            <p class="subtasks">0/2 Subtasks</p>
                        </div>
                    </div>

                    <div class="card-footer">
                        <div class="card-users">
                            <span class="user-badge">AS</span>
                            <span class="user-badge">DE</span>
                            <span class="user-badge">EF</span>
                        </div>
                        <div class="priority">
                            <span class="priority-symbol">
                                <img src="./assets/img/priority-medium.png" alt="">
                            </span>
                        </div>
                    </div>
                </div>

            </div>

            <div id="AwaitFeedback" ondrop="moveTo(event, 'AwaitFeedback')" ondragover="allowDrop(event)"
                ondragenter="highlight('AwaitFeedback')" ondragleave="removeHighlight('AwaitFeedback')">
                <div id="task2" class="todo-card" draggable="true" ondragstart="startDragging(event)">
                    <div class="card-labels">
                        <span class="label technical">Technical Task</span>
                    </div>

                    <div class="card-content">
                        <h3 class="card-title">HTML Base Template Creation</h3>
                        <p class="card-description">Create reusable HTML base templates...</p>
                    </div>

                    <div class="card-footer">
                        <div class="card-users">
                            <span class="user-badge">DE</span>
                            <span class="user-badge">BZ</span>
                            <span class="user-badge">AS</span>
                        </div>
                        <div class="priority">
                            <span class="priority-symbol">
                                <img src="./assets/img/priority-low.png" alt="">
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div id="Done" ondrop="moveTo(event, 'Done')" ondragover="allowDrop(event)" ondragenter="highlight('Done')"
                ondragleave="removeHighlight('Done')">
                <div class="no-tasks">No tasks To do</div>
            </div>
        </div> -->

        <div id="dialog" class="dialog-bg d-none" onclick="closeDialog()">
            <div id="dialog-content" class="dialog">

                <div>
                    <img class="close-popup" src="./assets/img/close.png" alt="close-img">
                </div>

            </div>
        </div>
    </section>
</body>

</html>